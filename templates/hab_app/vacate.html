{% extends "hab_app/caretakerView.html" %}
{% block body_block %}

  <thead>
      <tr>
          <th>Date</th>
          <th>Room No.</th>
          <th>Occupant Name</th>
          <th>Occupant ID No</th>
          <th>Contact</th>
          <th>Clearance status</th>
          <th>Details</th>
          <th>Vacated</th>
      </tr>
  </thead>

  <tbody>
    {% for i in tobeVacated %}
    <tr id ="{{ i.occupantId }}">
          <td>{{ i.toRoomStay }}</td>
          <td>{{ i.roomNo }}</td>
          <td>{{i.name}}</td>
          <td>{{ i.occupantId }}</td>
          <td>{{i.contact}}</td>
          <td>{{ i.messStatus }}</td>
          <td><a href="{% url 'hab_app:showDetails' %}?param={{ i.occupantId }}" >Details</a></td>
          <td><a href="{% url 'hab_app:deleteDetails' %}?param={{ i.occupantId }}" onclick="return confirm('Are you sure you want vacate?');">
          <span class="glyphicon glyphicon-trash"></span>
        </a></td>
      </tr>
      {% endfor %}
  </tbody>
  <script>

      // function deleteDetails($this){
      //
      //   var result = confirm("Are you sure you want to delete?");
      //   if(result){
      //     var det = $this.id;
      //     $($this).closest('tr').remove().draw();
      //     $.ajax({
      //     url: "{% url 'hab_app:deleteDetails' %}",
      //     data: {
      //       pm : det
      //     },
      //     type : "GET",
      //     success: function (data) {
      //       $($this).closest('tr').remove();
      //
      //     }
      //   });
      //
      //   }
      //
      // }
      </script>

{% endblock %}
